# ============================================
# PROJECT INFORMATION
# ============================================
project:
  name: "MindEve-GNN-Server"
  version: "1.0.0"
  description: "Fraud Detection with Graph Neural Networks"
  random_seed: 42

# ============================================
# DATA CONFIGURATION
# ============================================
data:
  raw_data_path: "data/sample/2024_05_sample.csv"
  processed_data_path: "data/processed"
  sample_data_path: "data/sample/2024_05_sample.csv"
  splits_path: "data/splits"
  
  # Column mappings
  column_mapping:
    trans_id: "TRANS_ID"
    trans_date: "TRANS_DATE"
    store_code: "STORE_CODE"
    cust_id: "CUST_ID"
    product_code: "PRODUCT_CODE"
    barcode: "BARCODE"
    amount: "AMOUNT"
    unit_price: "UNIT_PRICE"
  
  # Data types for memory optimization
  dtypes:
    trans_id: "int64"
    store_code: "int32"
    cust_id: "int64"
    product_code: "int64"
    barcode: "int64"
    amount: "int32"
  
  # Date range
  date_range:
    start: "2024-05-01"
    end: "2024-05-31"
  
  # Train/val/test split ratios
  splits:
    train: 0.70
    val: 0.15
    test: 0.15
  
  # Environment-specific overrides
  local_config:
    raw_data_path: "data/sample/2024_05_sample.csv"
    sample_size: 10000
  
  server_config:
    raw_data_path: "/data/mindeve/raw/2024_05.csv"
    processed_data_path: "/data/mindeve/processed"
    sample_size: null

# ============================================
# FEATURE ENGINEERING
# ============================================
features:
  # Features used for clustering
  clustering_features:
    - price_deviation
    - return_rate
    - transaction_velocity
    - is_unusual_amount
    - unique_stores
    - product_popularity
    - total_price
    - is_night_transaction
    - is_bulk_purchase
    - avg_transaction_value
  
  # Feature normalization
  normalize: true
  scaler: "standard"

# ============================================
# GRAPH CONSTRUCTION
# ============================================
graph_construction:
  similarity_threshold: 0.42
  cooccurrence_min: 2
  amount_diff_threshold: 0.10
  max_edges_per_node: 1000

# ============================================
# LOGGING
# ============================================
logging:
  level: "INFO"
  log_dir: "outputs/logs"
  log_to_file: true
  log_to_console: true
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# ============================================
# OUTPUT PATHS
# ============================================
output:
  models_dir: "outputs/models"
  figures_dir: "outputs/figures"
  mlruns_dir: "outputs/mlruns"
  reports_dir: "reports"

# ============================================
# COMPUTE SETTINGS
# ============================================
compute:
  device: "auto"  # auto, cuda, cpu
  num_workers: 4
  pin_memory: true

# ============================================
# TEST MODE (Global)
# ============================================
test_mode:
  enabled: false
  sample_size: 10000
  fast_dev_run: true


# ============================================================================
# MLFLOW CONFIGURATION
# ============================================================================
mlflow:
  enabled: true  # Enable/disable MLflow tracking
  experiment_name: "mindeve_gnn_fraud_detection"
  tracking_uri: "outputs/mlruns"  # Local tracking (server'da değiştirilebilir)
  artifact_location: "outputs/mlruns"

  